{
    "swagger": "2.0",
    "info": {
        "description": "This document describes the lattice API.",
        "title": "Lattice API Docs",
        "termsOfService": "TBD",
        "contact": {},
        "license": {
            "name": "Apache 2.0"
        },
        "version": "1.0"
    },
    "host": "localhost:8876",
    "basePath": "/v1",
    "paths": {
        "/systems": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "List systems",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "systems"
                ],
                "summary": "List systems",
                "operationId": "list-systems",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/v1.System"
                            }
                        }
                    }
                }
            },
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Create a new system",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "systems"
                ],
                "summary": "Create system",
                "operationId": "create-system",
                "parameters": [
                    {
                        "description": "Create system",
                        "name": "account",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "$ref": "#/definitions/rest.CreateSystemRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "$ref": "#/definitions/v1.System"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "type": "object",
                            "$ref": "#/definitions/v1.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/systems/{system}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "get system",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "systems"
                ],
                "summary": "Get system",
                "operationId": "get-system",
                "parameters": [
                    {
                        "type": "string",
                        "description": "System ID",
                        "name": "system",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "$ref": "#/definitions/v1.System"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "type": "object",
                            "$ref": "#/definitions/v1.ErrorResponse"
                        }
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Delete system",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "systems"
                ],
                "summary": "Delete system",
                "operationId": "delete-system",
                "parameters": [
                    {
                        "type": "string",
                        "description": "System ID",
                        "name": "system",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "$ref": "#/definitions/v1.Result"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "type": "object",
                            "$ref": "#/definitions/v1.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/systems/{system}/builds": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "List all builds for the system",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "builds"
                ],
                "summary": "List builds",
                "operationId": "list-builds",
                "parameters": [
                    {
                        "type": "string",
                        "description": "System ID",
                        "name": "system",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/v1.Build"
                            }
                        }
                    }
                }
            },
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    },
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Builds the system",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "builds"
                ],
                "summary": "Build system",
                "operationId": "build-system",
                "parameters": [
                    {
                        "type": "string",
                        "description": "System ID",
                        "name": "system",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Create build",
                        "name": "buildRequest",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "$ref": "#/definitions/rest.BuildRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "$ref": "#/definitions/v1.Build"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "type": "object",
                            "$ref": "#/definitions/v1.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/systems/{system}/builds/{id}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Gets the build object",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "builds"
                ],
                "summary": "Get build",
                "operationId": "get-build",
                "parameters": [
                    {
                        "type": "string",
                        "description": "System ID",
                        "name": "system",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Build ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "$ref": "#/definitions/v1.Build"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "type": "object",
                            "$ref": "#/definitions/v1.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/systems/{system}/builds/{id}/logs": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Retrieves/Streams logs for build",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "builds"
                ],
                "summary": "Get build logs",
                "operationId": "get-build-logs",
                "parameters": [
                    {
                        "type": "string",
                        "description": "System ID",
                        "name": "system",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Build ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Node Path",
                        "name": "path",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Sidecar",
                        "name": "sidecar",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Follow",
                        "name": "follow",
                        "in": "query"
                    },
                    {
                        "type": "boolean",
                        "description": "Previous",
                        "name": "previous",
                        "in": "query"
                    },
                    {
                        "type": "boolean",
                        "description": "Timestamps",
                        "name": "timestamps",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "tail",
                        "name": "tail",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Since",
                        "name": "since",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Since Time",
                        "name": "sinceTime",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "log stream",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "type": "object",
                            "$ref": "#/definitions/v1.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/systems/{system}/deploys": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Lists all deploys of the system",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "deploys"
                ],
                "summary": "List deploys",
                "operationId": "list-deploys",
                "parameters": [
                    {
                        "type": "string",
                        "description": "System ID",
                        "name": "system",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/v1.Deploy"
                            }
                        }
                    }
                }
            },
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Deploys the system",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "deploys"
                ],
                "summary": "Deploy system",
                "operationId": "deploy-system",
                "parameters": [
                    {
                        "type": "string",
                        "description": "System ID",
                        "name": "system",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Create deploy",
                        "name": "deployRequest",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "$ref": "#/definitions/rest.DeployRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "$ref": "#/definitions/v1.Deploy"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "type": "object",
                            "$ref": "#/definitions/v1.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/systems/{system}/deploys/{id}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Gets the deploy object",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "deploys"
                ],
                "summary": "Get deploy",
                "operationId": "get-deploy",
                "parameters": [
                    {
                        "type": "string",
                        "description": "System ID",
                        "name": "system",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Deploy ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "$ref": "#/definitions/v1.Deploy"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "type": "object",
                            "$ref": "#/definitions/v1.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/systems/{system}/jobs": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Lists all jobs",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "jobs"
                ],
                "summary": "Lists jobs",
                "operationId": "list-jobs",
                "parameters": [
                    {
                        "type": "string",
                        "description": "System ID",
                        "name": "system",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/v1.Job"
                            }
                        }
                    }
                }
            },
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Runs a new job",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "jobs"
                ],
                "summary": "Run job",
                "operationId": "run-job",
                "parameters": [
                    {
                        "type": "string",
                        "description": "System ID",
                        "name": "system",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Create build",
                        "name": "jobRequest",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "$ref": "#/definitions/rest.RunJobRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "$ref": "#/definitions/v1.Job"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "type": "object",
                            "$ref": "#/definitions/v1.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/systems/{system}/jobs/{id}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Gets the job object",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "jobs"
                ],
                "summary": "Get job",
                "operationId": "get-job",
                "parameters": [
                    {
                        "type": "string",
                        "description": "System ID",
                        "name": "system",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Job ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "$ref": "#/definitions/v1.Job"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "type": "object",
                            "$ref": "#/definitions/v1.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/systems/{system}/jobs/{id}/logs": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Retrieves/Streams logs for job",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "jobs"
                ],
                "summary": "Get job logs",
                "operationId": "get-job-logs",
                "parameters": [
                    {
                        "type": "string",
                        "description": "System ID",
                        "name": "system",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Job ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Sidecar",
                        "name": "sidecar",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Follow",
                        "name": "follow",
                        "in": "query"
                    },
                    {
                        "type": "boolean",
                        "description": "Previous",
                        "name": "previous",
                        "in": "query"
                    },
                    {
                        "type": "boolean",
                        "description": "Timestamps",
                        "name": "timestamps",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "tail",
                        "name": "tail",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Since",
                        "name": "since",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Since Time",
                        "name": "sinceTime",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "log stream",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "type": "object",
                            "$ref": "#/definitions/v1.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/systems/{system}/node-pools": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "list node pools",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "node-pools"
                ],
                "summary": "Lists node pools",
                "operationId": "list-node-pools",
                "parameters": [
                    {
                        "type": "string",
                        "description": "System ID",
                        "name": "system",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/v1.NodePool"
                            }
                        }
                    }
                }
            }
        },
        "/systems/{system}/node-pools/{id}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Gets the node pool object",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "node-pools"
                ],
                "summary": "Get node pool",
                "operationId": "get-node-pool",
                "parameters": [
                    {
                        "type": "string",
                        "description": "System ID",
                        "name": "system",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "NodePool ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "$ref": "#/definitions/v1.NodePool"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "type": "object",
                            "$ref": "#/definitions/v1.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/systems/{system}/secrets": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Lists all secrets",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "secrets"
                ],
                "summary": "Lists secrets",
                "operationId": "list-secrets",
                "parameters": [
                    {
                        "type": "string",
                        "description": "System ID",
                        "name": "system",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/v1.Secret"
                            }
                        }
                    }
                }
            },
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Sets a new secret",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "secrets"
                ],
                "summary": "set secret",
                "operationId": "set-secret",
                "parameters": [
                    {
                        "type": "string",
                        "description": "System ID",
                        "name": "system",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Create secret",
                        "name": "secretRequest",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "$ref": "#/definitions/rest.SetSecretRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "$ref": "#/definitions/v1.Secret"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "type": "object",
                            "$ref": "#/definitions/v1.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/systems/{system}/secrets/{secret}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Gets the secret object",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "secrets"
                ],
                "summary": "Get secret",
                "operationId": "get-secret",
                "parameters": [
                    {
                        "type": "string",
                        "description": "System ID",
                        "name": "system",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Secret Path",
                        "name": "secret",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "$ref": "#/definitions/v1.Secret"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "type": "object",
                            "$ref": "#/definitions/v1.ErrorResponse"
                        }
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Unsets the specified secret",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "secrets"
                ],
                "summary": "Delete secret",
                "operationId": "delete-secret",
                "parameters": [
                    {
                        "type": "string",
                        "description": "System ID",
                        "name": "system",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Secret Path",
                        "name": "secret",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "$ref": "#/definitions/v1.Result"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "type": "object",
                            "$ref": "#/definitions/v1.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/systems/{system}/services": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Lists all services running in the system",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "services"
                ],
                "summary": "Lists services",
                "operationId": "list-services",
                "parameters": [
                    {
                        "type": "string",
                        "description": "System ID",
                        "name": "system",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/v1.Service"
                            }
                        }
                    }
                }
            }
        },
        "/systems/{system}/services/{id}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Gets the service object",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "services"
                ],
                "summary": "Get service",
                "operationId": "get-service",
                "parameters": [
                    {
                        "type": "string",
                        "description": "System ID",
                        "name": "system",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Service ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "$ref": "#/definitions/v1.Service"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "type": "object",
                            "$ref": "#/definitions/v1.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/systems/{system}/services/{id}/logs": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Retrieves/Streams logs for service",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "services"
                ],
                "summary": "Get service logs",
                "operationId": "get-service-logs",
                "parameters": [
                    {
                        "type": "string",
                        "description": "System ID",
                        "name": "system",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Service ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Instance",
                        "name": "instance",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Sidecar",
                        "name": "sidecar",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Follow",
                        "name": "follow",
                        "in": "query"
                    },
                    {
                        "type": "boolean",
                        "description": "Previous",
                        "name": "previous",
                        "in": "query"
                    },
                    {
                        "type": "boolean",
                        "description": "Timestamps",
                        "name": "timestamps",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "description": "tail",
                        "name": "tail",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Since",
                        "name": "since",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "Since Time",
                        "name": "sinceTime",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "log stream",
                        "schema": {
                            "type": "string"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "type": "object",
                            "$ref": "#/definitions/v1.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/systems/{system}/teardowns": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Lists all teardowns made to the system",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "teardowns"
                ],
                "summary": "Lists teardowns",
                "operationId": "list-teardowns",
                "parameters": [
                    {
                        "type": "string",
                        "description": "System ID",
                        "name": "system",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/v1.Teardown"
                            }
                        }
                    }
                }
            },
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Tears the system down",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "teardowns"
                ],
                "summary": "Teardown system",
                "operationId": "teardown-system",
                "parameters": [
                    {
                        "type": "string",
                        "description": "System ID",
                        "name": "system",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "$ref": "#/definitions/v1.Teardown"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "type": "object",
                            "$ref": "#/definitions/v1.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "type": "object",
                            "$ref": "#/definitions/v1.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/systems/{system}/teardowns/{id}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Gets the teardown object",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "teardowns"
                ],
                "summary": "Get teardown",
                "operationId": "get-teardown",
                "parameters": [
                    {
                        "type": "string",
                        "description": "System ID",
                        "name": "system",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Teardown ID",
                        "name": "id",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "$ref": "#/definitions/v1.Teardown"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "type": "object",
                            "$ref": "#/definitions/v1.ErrorResponse"
                        }
                    }
                }
            }
        },
        "/systems/{system}/versions": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "List all versions of the specified system",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "versions"
                ],
                "summary": "Lists system versions",
                "operationId": "list-system-versions",
                "parameters": [
                    {
                        "type": "string",
                        "description": "System ID",
                        "name": "system",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "array",
                            "items": {
                                "$ref": "#/definitions/v1.SystemVersion"
                            }
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "rest.BuildRequest": {
            "type": "object",
            "properties": {
                "version": {
                    "description": "Version of system to build",
                    "type": "object",
                    "$ref": "#/definitions/v1.SystemVersion"
                }
            }
        },
        "rest.CreateSystemRequest": {
            "type": "object",
            "properties": {
                "definitionUrl": {
                    "description": "URL for for where the system definition resides in.",
                    "type": "string",
                    "example": "git://github.com/foo/foo.git"
                },
                "id": {
                    "description": "System ID",
                    "type": "string"
                }
            }
        },
        "rest.DeployRequest": {
            "type": "object",
            "properties": {
                "buildId": {
                    "description": "BuildID to deploy",
                    "type": "string"
                },
                "version": {
                    "description": "Version of system to deploy",
                    "type": "object",
                    "$ref": "#/definitions/v1.SystemVersion"
                }
            }
        },
        "rest.RunJobRequest": {
            "type": "object",
            "properties": {
                "command": {
                    "description": "Command to run",
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "environment": {
                    "description": "Container environment",
                    "type": "string"
                },
                "path": {
                    "description": "Path to run the job agsinst",
                    "type": "string"
                }
            }
        },
        "rest.SetSecretRequest": {
            "type": "object",
            "properties": {
                "value": {
                    "description": "Secret Value",
                    "type": "string"
                }
            }
        },
        "v1.Build": {
            "type": "object",
            "properties": {
                "completionTimestamp": {
                    "description": "Completion timestamp",
                    "type": "string"
                },
                "id": {
                    "description": "ID",
                    "type": "string"
                },
                "services": {
                    "description": "Services maps service paths (e.g. /foo/bar/buzz) to the\nstatus of the build for that service in the Build.",
                    "type": "object"
                },
                "startTimestamp": {
                    "description": "Start timestamp",
                    "type": "string"
                },
                "state": {
                    "description": "State",
                    "type": "string"
                },
                "version": {
                    "description": "Version",
                    "type": "string"
                }
            }
        },
        "v1.Deploy": {
            "type": "object",
            "properties": {
                "buildId": {
                    "description": "Build ID",
                    "type": "string"
                },
                "id": {
                    "description": "ID",
                    "type": "string"
                },
                "state": {
                    "description": "State",
                    "type": "string"
                }
            }
        },
        "v1.ErrorResponse": {
            "type": "object",
            "properties": {
                "code": {
                    "type": "string"
                },
                "message": {
                    "type": "string",
                    "example": "status bad request"
                }
            }
        },
        "v1.Job": {
            "type": "object",
            "properties": {
                "completionTimestamp": {
                    "type": "string"
                },
                "id": {
                    "type": "string"
                },
                "path": {
                    "type": "string"
                },
                "startTimestamp": {
                    "type": "string"
                },
                "state": {
                    "type": "string"
                }
            }
        },
        "v1.NodePool": {
            "type": "object",
            "properties": {
                "failure_info": {
                    "type": "object",
                    "$ref": "#/definitions/v1.NodePoolFailureInfo"
                },
                "id": {
                    "type": "string"
                },
                "instanceType": {
                    "description": "FIXME: how to deal with epochs?",
                    "type": "string"
                },
                "numInstances": {
                    "type": "integer"
                },
                "path": {
                    "type": "string"
                },
                "state": {
                    "type": "string"
                }
            }
        },
        "v1.NodePoolFailureInfo": {
            "type": "object",
            "properties": {
                "message": {
                    "type": "string"
                },
                "time": {
                    "type": "string"
                }
            }
        },
        "v1.Result": {
            "type": "object"
        },
        "v1.Secret": {
            "type": "object",
            "properties": {
                "name": {
                    "type": "string"
                },
                "path": {
                    "type": "string"
                },
                "value": {
                    "type": "string"
                }
            }
        },
        "v1.Service": {
            "type": "object",
            "properties": {
                "availableInstances": {
                    "type": "integer"
                },
                "failureInfo": {
                    "type": "object",
                    "$ref": "#/definitions/v1.ServiceFailureInfo"
                },
                "id": {
                    "type": "string"
                },
                "instances": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "message": {
                    "type": "string"
                },
                "path": {
                    "type": "string"
                },
                "ports": {
                    "type": "object"
                },
                "staleInstances": {
                    "type": "integer"
                },
                "state": {
                    "type": "string"
                },
                "terminatingInstances": {
                    "type": "integer"
                },
                "updatedInstances": {
                    "type": "integer"
                }
            }
        },
        "v1.ServiceFailureInfo": {
            "type": "object",
            "properties": {
                "message": {
                    "type": "string"
                },
                "time": {
                    "type": "string"
                }
            }
        },
        "v1.System": {
            "type": "object",
            "properties": {
                "definitionUrl": {
                    "description": "URL for for where the system definition resides in.",
                    "type": "string",
                    "example": "git://github.com/foo/foo.git"
                },
                "id": {
                    "description": "System ID",
                    "type": "string"
                },
                "services": {
                    "description": "map for service path and services currently running in the system",
                    "type": "object"
                },
                "state": {
                    "description": "State. One of (pending, failed, deleting, stable, degraded, scaling, updating)",
                    "type": "string"
                }
            }
        },
        "v1.SystemVersion": {
            "type": "object"
        },
        "v1.Teardown": {
            "type": "object",
            "properties": {
                "id": {
                    "description": "ID",
                    "type": "string"
                },
                "state": {
                    "description": "State",
                    "type": "string"
                }
            }
        }
    },
    "securityDefinitions": {
        "ApiKeyAuth": {
            "type": "apiKey",
            "name": "apiKey",
            "in": "header"
        }
    }
}